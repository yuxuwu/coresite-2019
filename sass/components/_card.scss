.card {
	height: 38rem;
	position: relative;
	margin: 3rem 0;
	overflow: hidden;
	border-radius: .4rem;
	color: $color-white;

	@include respond(phone) {
		display: flex;
		flex-direction: column;
		height: 76rem;
	}
	
	&__text {
		position: absolute;
		display: flex;
		flex-direction: column;
		justify-content: center;
		z-index: 5;
		width: 30%;
		height: 100%;

		@include respond(phone) {
			width: 100%;
			position: relative;
			flex-basis: 33%;
		}

		&--left {
			left: 3rem;
			text-align: left;

			@include respond(phone) {
				left: 0;
				text-align: center;
			}
		}

		&--right {
			right: 3rem;
			text-align: right;

			@include respond(phone) {
				right: 0;
				text-align: center;
			}
		}
	}
	
	&__layer1 {
		position: absolute;
		z-index: 4;
		height: 100%;
		width: 100%;

		&--left {
			background-color: $color-card-1;
			-webkit-clip-path: polygon(0 0, 48% 0, 32% 100%, 0 100%);
			clip-path: polygon(0 0, 48% 0, 32% 100%, 0 100%);

			@include respond(phone) {
				-webkit-clip-path: polygon(0 50%, 100% 67%, 100% 100%, 0 100%);
				clip-path: polygon(0 50%, 100% 67%, 100% 100%, 0 100%);						
			}
		}
		&--right {
			background-color: $color-card-2;
			-webkit-clip-path: polygon(52% 0, 100% 0, 100% 100%, 68% 100%);
			clip-path: polygon(52% 0, 100% 0, 100% 100%, 68% 100%);

			@include respond(phone) {
				-webkit-clip-path: polygon(0 67%, 100% 50%, 100% 100%, 0 100%);
				clip-path: polygon(0 67%, 100% 50%, 100% 100%, 0 100%);						
			}
		}
	  
	  &-drop-shadow {
		position: absolute;
		z-index: 3;
		filter: blur(5px);
		width: 100%;
		height: 100%;
		&--left {
			left: .8rem;
			background-color: rgba($color-card-1, 0.5);
			-webkit-clip-path: polygon(0 0, 48% 0, 32% 100%, 0 100%);
			clip-path: polygon(0 0, 48% 0, 32% 100%, 0 100%);

			@include respond(phone) {
				left: 0;
				-webkit-clip-path: polygon(0 45%, 100% 66%, 100% 100%, 0 100%);
				clip-path: polygon(0 45%, 100% 66%, 100% 100%, 0 100%);						
			}
		}
		&--right {
			right: .8rem;
			background-color: rgba($color-card-2, 0.5);
			-webkit-clip-path: polygon(52% 0, 100% 0, 100% 100%, 68% 100%);
			clip-path: polygon(52% 0, 100% 0, 100% 100%, 68% 100%);

			@include respond(phone) {
				right: 0;
				-webkit-clip-path: polygon(0 66%, 100% 45%, 100% 100%, 0 100%);
				clip-path: polygon(0 66%, 100% 45%, 100% 100%, 0 100%);						
			}
		}
	  }
	}
	
	&__layer2 {
		position: absolute;
		z-index: 2;
		height: 100%;
		width: 100%;
		background-color: transparent;
		&--left {
			-webkit-clip-path: polygon(0 0, 50% 0, 40% 100%, 0 100%);
			clip-path: polygon(0 0, 50% 0, 40% 100%, 0 100%);

			@include respond(phone) {
				-webkit-clip-path: polygon(0 69%, 100% 42%, 100% 100%, 0 100%);
				clip-path: polygon(0 67%, 100% 50%, 100% 100%, 0 100%);						
			}
		}

		&--right {
			-webkit-clip-path: polygon(50% 0, 100% 0, 100% 100%, 60% 100%);
			clip-path: polygon(50% 0, 100% 0, 100% 100%, 60% 100%);

			@include respond(phone) {
				-webkit-clip-path: polygon(0 69%, 100% 42%, 100% 100%, 0 100%);
				clip-path: polygon(0 67%, 100% 50%, 100% 100%, 0 100%);						
			}
		}
	}
	
	&__background {
		position: absolute;
		height: 100%;
		width: 100%;
		background-size: cover;

		@include respond(phone) {
			position: relative;
			flex-basis: 67%;
		}

		&--1 {
			background-image: linear-gradient(to right bottom, rgba($color-card-1--light, .8), rgba($color-card-1, .5)), url(../img/corehacks.jpg);
		}
		&--2 {
			background-image: linear-gradient(to left bottom, rgba($color-card-2--light, .8), rgba($color-card-2, .5)), url(../img/corelore.jpg);
		}
		&--3 {
			background-image: linear-gradient(to left bottom, rgba($color-card-2--light, .8), rgba($color-card-2, .5)), url(../img/corebq.jpg);
		}
	}
}

// A 2x2 container using flex-basis
.card-sm-container {
	display: flex;
	flex-wrap: wrap;
	flex-direction: row;
	padding: 2rem 4rem 4rem 4rem;

	& > .card-sm {
		flex-basis: calc(50% - 4rem);
		margin: 2rem;
	}
}

.card-sm {
	background-color: $color-white;
	height: 14rem;
	width: 45%;
	position: relative;
	border-radius: 4px;
	overflow: hidden;

	@include respond(phone) {
		height: 20rem;
	}

	@include respond(phone) {
		display: flex;
		flex-direction: column;
	}

	&__text {
		text-align: right;
		position: absolute;
		display: flex;
		flex-direction: column;
		width: 35%;
		height: 100%;
		right: .6rem;
		top: 0;

		@include respond(phone) {
			text-align: center;
			position: relative;
			width: 100%;
			height: 40%;
			right: 0;
			flex-basis: 60%;
		}
	}

	&__background {
		position: relative;
		height: 100%;
		width: 100%;
		clip-path: polygon(0 0, 65% 0, 50% 100%, 0 100%);
		background-size: cover;
		background-repeat: no-repeat;

		@include respond(phone) {
			clip-path: initial;
			flex-basis: 40%;
		}

		&--1 {
			background-image: url(../img/escapetheroom.jpg);
			background-position-x: -6rem;
			background-position-y: -10rem;

			@include respond(phone) {
				background-position-x: 0;
				background-position-y: -5rem;
			}
		}
		&--2 {
			background-image: url(../img/secretsnowflake.jpg);
			background-position-x: -6rem;
			background-position-y: -25rem;

			@include respond(phone) {
				background-position-x: 0;
				background-position-y: 0;
			}
		}
		&--3 {
			background-image: url(../img/2amdennys.jpg);
			background-position-y: -18rem;

			@include respond(phone) {
				background-position-y: -5rem;
			}
		}
		&--4 {
			background-image: url(../img/seniorsendoff.jpg);
			background-position-x: -6rem;
			background-position-y: -8rem;

			@include respond(phone) {
				background-position-x: -2rem;
				background-position-y: -3rem;
			}
		}
	}
}
